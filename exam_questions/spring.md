# Spring

[Основная часть спринга это что](#основная-часть-спринга-это-что)

[Какие контексты в спринге вы знаете](#какие-контексты-в-спринге-вы-знаете)

[Что такое бин, скоупы бинов](#что-такое-бин-скоупы-бинов)

[Что такое singleton скоуп бина](#что-такое-singleton-скоуп-бина)

[Ioc контейнер, какие бины в нем хранятся](#ioc-контейнер-какие-бины-в-нем-хранятся)

[AOP что это](#aop-что-это)

[Spring MVC, что это, какой контекст добавляет](#spring-mvc-что-это-какой-контекст-добавляет)

[Как можно без спринга сделать веб приложение](#как-можно-без-спринга-сделать-веб-приложение)

[Что в спринге отвечает за распределение запросов (вопрос про DispatcherServlet)](#что-в-спринге-отвечает-за-распределение-запросов-вопрос-про-dispatcherservlet)

[В чем разница между контроллером и rest-контроллером](#в-чем-разница-между-контроллером-и-rest-контроллером)

# Основная часть спринга это что

Spring — это фреймворк для Java, который упрощает разработку приложений. Его основа — это IoC-контейнер(Inversion of
Control), который:

+ Управляет объектами (бинами).
+ Позволяет внедрять зависимости (Dependency Injection).
+ Обеспечивает гибкость и модульность кода.

Кроме IoC-контейнера, в ядро Spring входят:

+ Spring Core – механизм работы с бинами, DI.
+ Spring Context – расширение контейнера IoC, работа с аннотациями (@Component, @Service, @Repository).
+ Spring Beans – конфигурация и управление бинами.
+ Spring AOP – аспектно-ориентированное программирование (логирование, безопасность).

[К оглавлению](#Spring)

# Какие контексты в спринге вы знаете

Контекст (ApplicationContext) — это расширенный IoC-контейнер в Spring, который:

+ Создает и управляет бинами.
+ Выполняет внедрение зависимостей.
+ Обрабатывает события и предоставляет доступ к ресурсам.

В Spring есть несколько типов контекстов (ApplicationContext), которые управляют жизненным циклом бинов и их
зависимостями.
AnnotationConfigApplicationContext (конфигурация через Java), ClassPathXmlApplicationContext (XML-конфигурация),
FileSystemXmlApplicationContext (XML из файловой системы) и WebApplicationContext (для веб-приложений).

[К оглавлению](#Spring)

# Что такое бин, скоупы бинов

Бин (Bean) в Spring — это объект, который управляется IoC-контейнером. У каждого бина есть область видимости (scope),
определяющая его жизненный цикл. Основные скоупы: singleton (по умолчанию, один экземпляр на контекст) и prototype (
новый экземпляр при каждом запросе). В веб-приложениях также есть request, session, application и websocket.

[К оглавлению](#Spring)

# Что такое singleton скоуп бина

Скоуп singleton означает, что Spring создаст только один экземпляр бина на весь жизненный цикл контекста. Это значение
скоупа по умолчанию. Все обращения к бин-контейнеру будут возвращать один и тот же объект.

[К оглавлению](#Spring)

# Ioc контейнер, какие бины в нем хранятся

В контейнере могут храниться бины, созданные через аннотации, Java-конфигурацию или XML.

[К оглавлению](#Spring)

# AOP что это

AOP (Aspect-Oriented Programming) — это парадигма программирования, которая позволяет отделить код, который используется
в разных частях приложения, но не относится напрямую к бизнес-логике(Например: Логирование, Транзакции, Безопасность (
авторизация, аутентификация, Кэширование, Обработка исключений)

AOP - состоит из:

+ Аспект — это собственно код, в котором заключена служебная логика
+ join point - это событие, запускающее выполнение аспекта. В Spring этим событием всегда является вызов целевого
  метода.
+ Advice(совет) — этой аннотацией мы указываем Spring'у, когда именно выполнять аспект - перед, или после, или вместо
  выполнения целевого метода. Существует несколько типов advice
    + Before: выполняется перед методом
    + After: выполняется после метода, независимо от его результата
    + AfterReturning: выполняется после успешного завершения метода
    + AfterThrowing: выполняется, если метод выбрасывает исключение
    + Around: оборачивает метод, позволяя выполнить код до и после его выполнения
+ pointCut - это наименования методов, выполнение которых Spring должен перехватить и запустить выполнение аспектов

AOP активно используется в Spring Framework для реализации транзакций, безопасности, логирования и других сквозных
задач.
Пример: Spring AOP позволяет легко добавлять аспекты с помощью аннотаций, таких как @Transactional

Аннотация @Transactional в Spring используется для управления транзакциями в приложениях, работающих с базами данных.
Она позволяет декларативно управлять границами транзакций, не требуя написания шаблонного кода для их начала,
завершения или отката.

Когда Spring встречает метод, помеченный @Transactional, он создает прокси вокруг этого метода. Этот прокси управляет
транзакцией:

+ Перед выполнением метода начинается новая транзакция (если не указано иное).
+ Метод выполняется в контексте этой транзакции.
+ Если метод завершается успешно, транзакция фиксируется (commit).
+ Если метод выбрасывает исключение, транзакция откатывается (rollback).

[К оглавлению](#Spring)

# Spring MVC, что это, какой контекст добавляет

Spring MVC реализует шаблон проектирования MVC. То есть удобным образом связывает данные и вид. Шаблон MVC позволяет
отдельно разрабатывать логику или изменять пользовательский интерфейс.

+ Все запросы принимает DispatcherServlet. DispatcherServlet загружается с помощью сервера контейнера (Tomcat, Jetty)
+ Сервер-контейнер поставляется совместно с библиотеками Spring, что позволяет сразу запустить приложение без
  дополнительных настроек сервера.
+ DispatcherServlet поднимает контекст зависимостей Spring. По сути DispatcherServlet является входной точкой всего
  приложения.
+ HandlerMapping служит для связи конкретного запроса и контроллера. Все запросы первоначально обрабатываться в
  DispatcherSerlvet и перераспределяются через HandlerMapping конкретному контроллеру.
+ ViewResolver - это объект, который содержит имя шаблона. Шаблон используется генератором HTML (JSP, Thymeleaf).
  Генератор заполняет шаблон на основании модели и возвращает в ViewResolver HTML.
+ В качестве формата данных может выступать JSON, XML, Byte, HTML.

Spring MVC использует отдельный контекст приложения (WebApplicationContext), который является дочерним для корневого
контекста (ApplicationContext). Он содержит бины, специфичные для веб-слоя, такие как контроллеры, ViewResolver,
HandlerMapping обработчики исключений

[К оглавлению](#Spring)

# Как можно без спринга сделать веб приложение

Самый базовый способ создания веб-приложения — использование Java Servlets и JSP (JavaServer Pages). Это стандартные
технологии Java EE.

+ Создайте Servlet: Servlet — это Java-класс, который обрабатывает HTTP-запросы и ответы
+ Создайте JSP-страницу - JSP позволяет встраивать Java-код в HTML
+ Настройте веб-сервер (например, Apache Tomcat): Разместите ваш проект в папке webapps Tomcat. Запустите сервер и
  откройте приложение в браузере.

Если вы хотите создавать веб-приложения без JSP, можно использовать шаблонизаторы - Thymeleaf. Шаблонизатор, который
работает с HTML и поддерживает интеграцию с Servlets

[К оглавлению](#Spring)

# Что в спринге отвечает за распределение запросов (вопрос про DispatcherServlet)

DispatcherServlet — это фронт-контроллер в Spring MVC. Он обрабатывает все HTTP-запросы и распределяет их между
контроллерами

Как он работает?

+ Принимает запрос: Получает все входящие запросы.
+ Ищет контроллер: Использует HandlerMapping, чтобы определить, какой контроллер (или метод) должен обработать запрос.
+ Вызывает контроллер: Через HandlerAdapter вызывает метод контроллера.
+ Обрабатывает результат: Использует ViewResolver для поиска представления или MessageConverter для преобразования
  данных (например, в JSON).
+ Отправляет ответ: Возвращает результат клиенту.

[К оглавлению](#Spring)

# В чем разница между контроллером и rest-контроллером

@Controller используется для создания веб-страниц и возвращает имена представлений, а @RestController — для REST API и
возвращает данные напрямую (например, JSON). @RestController — это комбинация @Controller и @ResponseBody.

@Controller подходит для традиционных веб-приложений с HTML-страницами.

@RestController используется для REST API, где клиент ожидает данные (например, мобильные приложения

[К оглавлению](#Spring)


